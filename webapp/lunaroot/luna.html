<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Title</title>
        <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"/>
        <link rel="icon" href="/favicon.ico"/>
        <link rel="stylesheet" href="/css/luna_style.css"/>
        <script src="/exif-js/exif.js"></script>
        <script src="/blueimp-load-image/js/load-image.all.min.js"></script>
        <script src="/jquery/dist/jquery.min.js"></script>
        <script src="/socket.io-client/dist/socket.io.js"></script>
        <script src="/qrcode/build/qrcode.js"></script>
        <script src="/config/Config.js"></script>
        <script src="/luna/Card.js"></script>
        <script src="/luna/Luna.js"></script>
        <script src="/model/Record.js"></script>
        <script src="/model/Record_Display.js"></script>
        <script src="/model/Record_Query.js"></script>
        <script src="/model/Result.js"></script>
    </head>
    <body>
        <div class="box top center">
            <div class="inner-box">
                <div id="title_text">Title</div>
            </div>
        </div>
        <div id="display">         
        </div>
        <div class="box bottom center">
            <div class="inner-box">
                <div id="version_text">Version</div>
            </div>
        </div>
        <script>
            $(() => {
                var LUNA = tw.digitalculture.config.Config.LUNA;
                var UMBRA = tw.digitalculture.config.Config.UMBRA;
                var canvas = document.createElement("canvas");
                qrcodelib.toCanvas(canvas, UMBRA.URL, function (err) {
                    var canvas_adj = document.createElement("canvas");
                    var ctx = canvas_adj.getContext('2d');
                    var ratio = 1.5;
                    canvas_adj.width = canvas.width * ratio;
                    canvas_adj.height = canvas.height * ratio;
                    ctx.fillStyle = LUNA.CARD.COLOR;
                    ctx.fillRect(0, 0, canvas.width * ratio, canvas.height * ratio);
                    ctx.drawImage(canvas, canvas.width * (ratio - 1) / 2, canvas.height * (ratio - 1) / 2);
                    UMBRA.QRCODE_IMG = canvas_adj.toDataURL("image/png");
//                    console.log(UMBRA.QRCODE_IMG);
                });
            });
        </script>
    </body>
</html>
